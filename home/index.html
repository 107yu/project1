<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <style>
    #box {
      width: 100%;
      height: 100px;
      display: flex;
      margin-bottom: 240px;
      flex-wrap: wrap;
      border: 1px solid #ccc;
    }
    #box img {
      width: 20%;
      height: 100%;
    }
    #box1 {
      display: flex;
      width: 100%;
      height: 200px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }
    #box1 img {
      width: 20%;
      height: 200px;
    }
  </style>
  <body>
    <div id="box"></div>
    <div id="box1"></div>
  </body>
  <script>
    let src = new Array();
    src.push("http://pic26.nipic.com/20121221/9252150_142515375000_2.jpg");
    src.push("http://pic37.nipic.com/20140105/15166348_202320428000_2.jpg");
    src.push("http://pic31.nipic.com/20130801/11604791_100539834000_2.jpg");
    src.push(
      "http://img.redocn.com/sheji/20141219/zhongguofengdaodeliyizhanbanzhijing_3744115.jpg"
    );
    src.push("http://k.zol-img.com.cn/dcbbs/22000/a21999018_01000.jpg");
    src.push(
      "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1562336546988&di=7eb32e0c9b6718a9399ba663a5a1ca10&imgtype=0&src=http%3A%2F%2Fimg.juimg.com%2Ftuku%2Fyulantu%2F140727%2F330620-140HG32T838.jpg"
    );
    src.push(
      "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1562336546988&di=1a2467fdc1a1a0cc2ce2e98b2b540e61&imgtype=0&src=http%3A%2F%2Fimg.redocn.com%2Fsheying%2F20141025%2Fqiutianluozaidimianshangdeyipianhongsefengyexiaoqingxinbeijingsucai_3325595.jpg"
    );
    src.push(
      "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1562336546985&di=ee5017978b6a148d9845cea9cea17f8d&imgtype=0&src=http%3A%2F%2Fimg.redocn.com%2Fsheji%2F20141204%2Fzisezhiaixinwudonghunqingshipinbeijing_3650973.jpg"
    );
    src.push(
      "https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=4153510788,1510508765&fm=26&gp=0.jpg"
    );
    src.push(
      "http://image2.sina.com.cn/ent/d/2005-06-21/U105P28T3D758569F326DT20050621160105.jpg"
    );
    /**
     * 并行十张图片的加载
     */
    // function load(arr) {
    //   for (let i = 0; i < arr.length; i++) {
    //     let img = new Image();
    //     img.src = arr[i];
    //     let box = document.querySelector("#box");
    //     box.appendChild(img);
    //   }
    // }
    // load(src);
    /**
     * 串行十张图片的加载
     */
    let box1 = document.querySelector("#box1");
    let box = document.querySelector("#box");
    let promise = function loazy(url, box) {
      return new Promise((resolve, reject) => {
        let imgs = new Image();
        imgs.src = url;
        box.appendChild(imgs);
        setTimeout(resolve, 2000);
      });
    };
    async function Img(arr) {
      for (let i = 0; i < arr.length; i++) {
        await promise(arr[i], box1);
      }
    }
    Img(src);
    // async function Imgs(arr) {
    //   arr.forEach(async item => {
    //     let img = await new Promise((resolve, reject) => {
    //       resolve(item);
    //     });
    //     let box = document.querySelector("#box");
    //     box.appendChild(img);
    //   });
    // }
    // setTimeout(() => {
    //   Imgs(src);
    // }, 1000);

    src.forEach(async function(item, index) {
      if (index == 1) {
        await setTimeout(() => {
          promise(item, box);
        }, 1000);
      } else {
        await promise(item, box);
      }
    });
    
  </script>
</html>
